# JobSentinel v2.2.0 - Settings UI & Smart Scoring

**Release Date:** January 17, 2026
**Status:** Complete ✅

## Overview

Complete Settings UI implementation with user-configurable scoring weights and intelligent job
matching enhancements including synonym matching, graduated salary scoring, remote preferences,
and resume-based scoring integration.

---

## Key Features

### User-Configurable Scoring Weights

- **Adjustable Weights** - Modify importance of each scoring factor:
  - Skills match weight (default: 40%)
  - Salary match weight (default: 25%)
  - Location match weight (default: 20%)
  - Company preference weight (default: 10%)
  - Job recency weight (default: 5%)
- **Validation** - Weights must be non-negative, ≤1.0, and sum to ~1.0
- **Database Persistence** - Config stored in SQLite

### Company Preference Scoring

- **Whitelist/Blacklist Support** - Control job scoring by company
- **Fuzzy Name Matching** - Handles company suffixes (Inc, LLC, Corp)
- **Blacklist Precedence** - Blocked companies always score 0

### Synonym Matching

- **60+ Synonym Groups** for:
  - Programming languages (Python/py/Python3)
  - Job titles (Senior/Sr./Sr)
  - Frameworks (React/ReactJS/React.js)
  - Cloud platforms (AWS/Amazon Web Services)
- **O(1) HashMap Lookups** - Fast performance
- **Word Boundary Detection** - Prevents false matches

### Graduated Salary Scoring

- Jobs receive partial credit based on salary proximity to target:
  - ≥120% of target: 1.2x bonus
  - 100-119%: 1.0x (full credit)
  - 90-99%: 0.9x credit
  - 80-89%: 0.8x credit
  - 70-79%: 0.6x credit
  - <70%: 0.3x credit

### Remote Preference Scoring

Five preference modes:

- **RemoteOnly**: Remote = 1.0, Hybrid = 0.5, Onsite = 0.1
- **RemotePreferred**: Remote = 1.0, Hybrid = 0.8, Onsite = 0.4
- **HybridPreferred**: Hybrid = 1.0, Remote = 0.8, Onsite = 0.6
- **OnsitePreferred**: Onsite = 1.0, Hybrid = 0.8, Remote = 0.6
- **Flexible**: All types = 1.0

### Score Breakdown UI

- **ScoreBreakdownModal** - Detailed score visualization
- **Interactive Display** - Click any job score to open breakdown
- **Visual Progress Bars** - Each factor with color-coded bar
- **Settings Section** - Shows current weights with helpful tips

### Resume-Based Scoring Integration

- **70% Resume Match / 30% Keyword Boost** - Combined approach
- **Async Scoring** - Database lookups when enabled
- **Settings Toggle** - Easy on/off in Settings page
- **Graceful Fallback** - Uses keyword-only if no resume

### Ghost Detection Improvements

- **Settings UI** - Adjust detection thresholds
- **User Feedback** - Mark jobs as real or ghost
- **Improved Repost Weighting** - Stale reposts weighted less

### Deduplication Improvements

- **URL Normalization** - Strips 20+ tracking parameters
- **Location Normalization** - "SF" = "San Francisco"
- **Title Normalization** - "Sr." = "Senior"

---

## New Tauri Commands

| Command | Description |
|---------|-------------|
| `get_scoring_config` | Retrieve current scoring weights |
| `update_scoring_config` | Save new weights with validation |
| `reset_scoring_config_cmd` | Reset to default weights |
| `validate_scoring_config` | Validate without saving |
| `get_ghost_config` | Get ghost detection settings |
| `set_ghost_config` | Update thresholds |
| `reset_ghost_config` | Reset to defaults |
| `mark_job_as_real` | User confirms legitimate |
| `mark_job_as_ghost` | User confirms fake |
| `get_ghost_feedback` | Get user's verdict |
| `clear_ghost_feedback` | Remove verdict |

---

## New Modules

| Module | Purpose |
|--------|---------|
| `scoring/synonyms.rs` | Synonym matching system |
| `scoring/remote.rs` | Remote preference scoring |
| `scrapers/url_utils.rs` | URL normalization |
| `scrapers/location_utils.rs` | Location normalization |
| `scrapers/title_utils.rs` | Title normalization |

---

## Database Changes

- New `scoring_config` table (single-row pattern)
- New `ghost_feedback` table for user corrections

---

## Documentation

- `docs/features/synonym-matching.md` - Complete feature docs
- `docs/features/remote-preference-scoring.md` - Remote scoring docs
- `docs/features/smart-scoring.md` - Updated with v2.2 features

---

## Testing

- 13 new company scoring tests
- 25+ synonym matching tests
- 15+ remote preference tests
- 9 config tests + 4 database tests

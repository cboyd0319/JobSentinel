# JobSentinel v2.5.0 - Market Intelligence UI

**Release Date:** January 18, 2026
**Status:** Complete ✅

## Overview

Complete visualization layer for the Market Intelligence module with interactive charts,
tabbed layout, and real-time market insights. This release transforms raw market data
into actionable visualizations for career decision-making.

---

## Key Features

### New Components

| Component | Description |
|-----------|-------------|
| **MarketSnapshotCard** | Daily market summary with total jobs, new jobs, remote %, sentiment indicator |
| **TrendChart** | Recharts-powered line/bar charts for skill and company trends |
| **MarketAlertCard** | Alert display with severity coloring and mark-as-read functionality |
| **MarketAlertList** | Alert list with bulk mark-all-read action |
| **LocationHeatmap** | Interactive grid showing job density by location with click-to-detail |

### Market.tsx Complete Overhaul

The Market Intelligence page was completely rewritten with a professional tabbed layout:

- **Overview Tab** - Market snapshot, trending skills chart, active companies chart, location heatmap, recent alerts
- **Skills Tab** - Detailed skill demand trends with growth indicators
- **Companies Tab** - Company hiring velocity with salary and growth rate
- **Locations Tab** - Geographic job distribution with remote percentages
- **Alerts Tab** - Full alert management with read/unread filtering

### Backend Enhancements

Enhanced data types with week-over-week change calculations:

| Type | New Fields |
|------|------------|
| `SkillTrend` | `change_percent: f64`, `trend_direction: String` |
| `CompanyActivity` | `avg_salary: Option<i64>`, `growth_rate: f64` |
| `LocationHeat` | `remote_percent: f64` |

### New Tauri Commands

| Command | Description |
|---------|-------------|
| `get_market_snapshot` | Get latest daily market snapshot |
| `get_historical_snapshots` | Get snapshots for last N days |
| `mark_alert_read` | Mark single alert as read |
| `mark_all_alerts_read` | Mark all alerts as read |

---

## Technical Details

### SQL Enhancements

Queries now use CTEs (Common Table Expressions) to compute week-over-week changes:

```sql
WITH recent AS (
    SELECT skill_name, SUM(job_count) as total_jobs, AVG(avg_salary) as avg_salary
    FROM skill_demand_trends
    WHERE date >= date('now', '-7 days')
    GROUP BY skill_name
),
previous AS (
    SELECT skill_name, SUM(job_count) as total_jobs
    FROM skill_demand_trends
    WHERE date >= date('now', '-14 days') AND date < date('now', '-7 days')
    GROUP BY skill_name
)
SELECT r.*, COALESCE(
    CASE WHEN p.total_jobs > 0 
         THEN ((r.total_jobs - p.total_jobs) * 100.0 / p.total_jobs)
         ELSE 0.0
    END, 0.0
) as change_percent
FROM recent r
LEFT JOIN previous p ON r.skill_name = p.skill_name
```

### Frontend Architecture

- Uses Recharts library for chart rendering
- Responsive grid layout with Tailwind CSS
- Real-time data fetching with useEffect hooks
- Loading states and error handling throughout

---

## Files Changed

### New Files

- `src/components/MarketSnapshotCard.tsx` (~120 lines)
- `src/components/TrendChart.tsx` (~160 lines)
- `src/components/MarketAlertCard.tsx` (~170 lines)
- `src/components/LocationHeatmap.tsx` (~180 lines)

### Modified Files

- `src/pages/Market.tsx` - Complete rewrite with tabs
- `src/components/Badge.tsx` - Added className prop
- `src/components/index.ts` - Added new component exports
- `src-tauri/src/core/market_intelligence/queries.rs` - Enhanced query methods
- `src-tauri/src/core/market_intelligence/alerts.rs` - Added mark_alert_read
- `src-tauri/src/core/market_intelligence/mod.rs` - Added wrapper methods
- `src-tauri/src/core/market_intelligence/tests.rs` - Updated test structs
- `src-tauri/src/commands/market.rs` - 4 new commands
- `src-tauri/src/commands/mod.rs` - New exports
- `src-tauri/src/main.rs` - Command registration

---

## Migration Notes

No database migrations required. The enhanced types add computed fields that are
calculated at query time from existing data.

---

## What's Next (v2.6)

- Machine learning trend prediction
- Industry-specific breakdowns
- CSV/PDF export of market reports
- Custom alert configuration
- Official Windows/macOS installers

---

**Total Tauri Commands:** 144
**Total Components:** 52
**Build Status:** ✅ Passing
**Test Status:** ✅ All tests passing

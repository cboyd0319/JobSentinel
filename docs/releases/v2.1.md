# JobSentinel v2.1.0 Release Notes

**Release Date:** January 17, 2026

## Scraper Health Monitoring

This release adds comprehensive health monitoring for all 13 job board scrapers,
including a new dashboard, automatic retry logic, and credential expiry tracking.

### Highlights

- **All 13 Scrapers Now Wired** - Previously only 5/13 scrapers were connected to the scheduler
- **Health Dashboard** - Monitor scraper status from Settings → Troubleshooting
- **Automatic Retry** - Exponential backoff on transient failures (429, 5xx errors)
- **Smoke Tests** - Verify scraper connectivity without full scrapes
- **LinkedIn Cookie Expiry** - 30-day warning before credentials expire

---

## New Features

### Scraper Health Dashboard

Access from: **Settings → Troubleshooting → "View Scraper Health Dashboard"**

| Feature | Description |
|---------|-------------|
| Summary Stats | Total scrapers, healthy/degraded/down/disabled counts |
| Scraper Table | Health status, success rate, avg duration, jobs found |
| Run History | Click any scraper to view recent execution logs |
| Smoke Tests | Test individual or all scrapers with one click |
| Credential Warnings | Alerts for expiring LinkedIn cookies |

### All 13 Scrapers Fully Integrated

Previously, only 5 scrapers were wired into the scheduler. Now all 13 are active:

**Newly connected (8):**

- RemoteOK
- Wellfound (AngelList)
- WeWorkRemotely
- BuiltIn
- HN Who's Hiring
- Dice
- YC Startup Jobs
- ZipRecruiter

**Previously connected (5):**

- Greenhouse
- Lever
- LinkedIn
- Indeed
- JobsWithGPT

### Exponential Backoff Retry Logic

Scrapers automatically retry on transient failures:

```text
Default Configuration:
- Max attempts: 3
- Initial delay: 1 second
- Max delay: 30 seconds
- Backoff multiplier: 2.0x
- Retryable codes: 429, 500, 502, 503, 504
```

### Credential Health Tracking

LinkedIn cookie expiry is now tracked automatically:

- **Cookie lifespan:** ~365 days
- **Warning threshold:** 30 days before expiry
- **Dashboard alerts:** Visual warnings in health dashboard

---

## New Tauri Commands (9)

| Command | Description |
|---------|-------------|
| `get_scraper_health` | Health metrics for all scrapers |
| `get_health_summary` | Aggregate statistics |
| `get_scraper_configs` | Configuration details |
| `set_scraper_enabled` | Enable/disable scrapers |
| `get_scraper_runs` | Recent run history |
| `run_scraper_smoke_test` | Test single scraper |
| `run_all_smoke_tests` | Test all scrapers |
| `get_linkedin_cookie_health` | LinkedIn credential status |
| `get_expiring_credentials` | All expiring credentials |

---

## Database Changes

### New Tables (4)

| Table | Purpose |
|-------|---------|
| `scraper_runs` | Run history with timing, status, jobs found |
| `scraper_config` | Scraper configuration and health state |
| `credential_health` | Credential expiry tracking |
| `scraper_smoke_tests` | Smoke test results with timing |

### New View (1)

| View | Purpose |
|------|---------|
| `scraper_health_status` | Aggregated 24h metrics per scraper |

---

## Configuration

### New Scraper Config Options (8)

Each scraper now has individual configuration:

```json
{
  "remoteok": { "enabled": true, "tags": ["rust"], "limit": 50 },
  "wellfound": { "enabled": true, "role": "engineer", "location": "remote", "remote_only": true, "limit": 50 },
  "weworkremotely": { "enabled": true, "category": "programming", "limit": 50 },
  "builtin": { "enabled": true, "cities": ["San Francisco"], "category": "engineering", "limit": 50 },
  "hn_hiring": { "enabled": true, "remote_only": true, "limit": 100 },
  "dice": { "enabled": true, "query": "rust engineer", "location": "remote", "limit": 50 },
  "yc_startup": { "enabled": true, "query": "engineer", "remote_only": true, "limit": 50 },
  "ziprecruiter": { "enabled": true, "query": "software engineer", "location": "remote", "radius": 50, "limit": 50 }
}
```

---

## Technical Details

### Files Added

- `src-tauri/src/core/health/` - Health monitoring module (7 files)
  - `mod.rs` - Module exports
  - `types.rs` - Health enums and structs
  - `tracking.rs` - Run history tracking
  - `metrics.rs` - Health aggregation
  - `retry.rs` - Exponential backoff logic
  - `smoke_tests.rs` - Connectivity verification
  - `credential_health.rs` - Credential expiry tracking
- `src-tauri/src/commands/health.rs` - Tauri command handlers
- `src-tauri/migrations/20260118000000_add_scraper_health.sql` - Database migration
- `src/components/ScraperHealthDashboard.tsx` - Frontend dashboard

### Files Modified

- `src-tauri/src/core/mod.rs` - Health module re-exports
- `src-tauri/src/core/config/types.rs` - 8 new scraper config structs
- `src-tauri/src/core/scheduler/workers/scrapers.rs` - All 13 scrapers wired
- `src-tauri/src/commands/mod.rs` - Health command exports
- `src-tauri/src/main.rs` - Health commands registered
- `src/components/index.ts` - ScraperHealthDashboard export
- `src/pages/Settings.tsx` - Health dashboard button

---

## Upgrade Notes

### Database Migration

The migration runs automatically on first launch. New tables are created:

- `scraper_runs`
- `scraper_config` (seeded with 13 scraper configs)
- `credential_health`
- `scraper_smoke_tests`

### No Breaking Changes

- All existing functionality unchanged
- New features are additive
- Default scraper configs enable all scrapers

---

## Statistics

- **Tests:** 2039 passing
- **New Tauri Commands:** 9
- **New Database Tables:** 4 + 1 view
- **New Config Structs:** 8
- **Total Tauri Commands:** 126

---

**Full Changelog:** [CHANGELOG.md](../../CHANGELOG.md)
**Documentation:** [docs/features/scrapers.md](../features/scrapers.md)
